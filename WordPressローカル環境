# WordPressをローカルで動かすための環境設定

// Local（Local by Flywheel）をダウンロード
https://localwp.com

// Localをインストール
画面の指示に従いサーバーのPHPやApacheの選択、WordPressのID/PWの設定などを行う。

// 参考：Localをアンインストール
https://localwp.com/help-docs/troubleshooting/how-do-i-uninstall-local-by-flywheel-on-macos/
/private/etc/hosts

# WordPress管理画面の設定

// 管理画面URL
http://understrap.local/wp-admin/

// ダミーデータをダウンロード
ダミーテータのファイル
https://github.com/jawordpressorg/theme-test-data-ja
xmlファイルをローカルにダウンロードし以下のプラグインでインポート。

// ダミーデータをインポート
WordPress管理画面 -> ツール -> インポート -> WordPressのプラグインをインストールし、ダミーデータのxmlファイルを選択してインポート。

// 表記を日本語にする
設定 -> 一般の項目を変更する。
「サイトの言語」を日本語、「タイムゾーン」を東京、「日付形式」をカスタムのY/n/j、「時刻形式」をg:i Aに変更。

// WordPress アドレス (URL)を変更
http://understrap.local/blog

// ルートのindex.php
以下のパス部分に/blogを追加
require __DIR__ . '/blog/wp-blog-header.php';

// blogディレクトリにファイルを移動
index.php以外をblogディレクトリに移動

// blogディレクトリにもindex.phpをコピー
index.phpが無いとエラーが出る。
「Warning: fileperms(): stat failed for /Users/<username>/Documents/WordPress_local/app/public/blog/index.php in /Users/<username>/Documents/WordPress_local/app/public/blog/wp-admin/includes/file.php on line 1961」

require __DIR__ . '/blog/wp-blog-header.php'; 部分の/blogを削除したindex.phpを/blog/に配置。

http://understrap.local/やhttp://understrap.local/blog/wp-admin/にアクセスできれば成功。

// Localの管理画面でのSSL化
Localの管理画面のSSLのTRUSTをクリックしPWを入力。しばらくするとTRUSTEDになっていれば成功

// WordPressの管理画面でURLを変更する
WordPress アドレス (URL)とサイトアドレス (URL)の部分をhttps://に

// キーチェーンの証明書を変更する
証明書のエラーが出るので、キーチェーンアクセスで証明書を信頼するに変更する
https://localwp.com/help-docs/ssl/managing-local-sites-ssl-certificate-in-macos/
